(function(e){function t(t){for(var i,n,l=t[0],o=t[1],c=t[2],m=0,u=[];m<l.length;m++)n=l[m],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);d&&d(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],i=!0,l=1;l<s.length;l++){var o=s[l];0!==a[o]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var i={},a={app:0},r=[];function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=i,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/Recipes_app/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=o;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"1ae6":function(e,t,s){},"443b":function(e,t,s){"use strict";var i=s("f8cf"),a=s.n(i);a.a},"56d7":function(e,t,s){"use strict";s.r(t);s("4de4"),s("fb6a"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Nav"),s("transition",{attrs:{"enter-active-class":"animated lightSpeedIn","leave-active-class":"animated fadeOutLeft",mode:"out-in",duration:1e3}},[s("router-view")],1)],1)},r=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"navbar is-success"},[s("div",{staticClass:"container"},[s("div",{staticClass:"navbar-brand"},[s("router-link",{staticClass:"navbar-item has-text-black",attrs:{to:{name:"Index"}}},[e._v(" Recipes ")]),s("div",{class:[{"is-active":e.isActive},"navbar-burger burger"],attrs:{"data-target":"navbarLogin"},on:{click:function(t){e.isActive=!e.isActive}}},[s("span"),s("span"),s("span")])],1),s("div",{class:[{"is-active":e.isActive},"navbar-menu"],attrs:{id:"navbarLogin"}},[s("div",{staticClass:"navbar-end"},[e._m(0),s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[e.user.loggedIn?[s("p",{staticClass:"navbar-link has-text-centered is-capitalized has-grey-text text-darken-4 navbar-arrow"},[e._v(" welcome "+e._s(e.user.data.displayName)+" ")]),s("div",{staticClass:"navbar-dropdown"},[s("router-link",{staticClass:"navbar-item if-flex is-start",attrs:{tag:"a",to:{name:"addItem"}}},[s("span",{staticClass:"icon is-small is-pr-1-half is-pl-1"},[s("i",{staticClass:"material-icons"},[e._v("menu_book")])]),s("span",[e._v("Add recipe")])]),s("a",{staticClass:"navbar-item if-flex is-start",on:{click:e.logOut}},[e._m(1),s("span",[e._v("Log Out")])])],1)]:[s("p",{staticClass:"navbar-link has-text-centered has-grey-text text-darken-4"},[e._v(" Log In / Sign Up ")]),s("div",{staticClass:"navbar-dropdown"},[s("router-link",{staticClass:"navbar-item if-flex is-around",attrs:{tag:"a",to:{name:"signIn"}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"material-icons"},[e._v("lock")])]),e._v(" Log In ")]),s("router-link",{staticClass:"navbar-item if-flex is-around",attrs:{tag:"a",to:{name:"signUp"}}},[s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"material-icons"},[e._v("person_pin")])]),s("span",[e._v("Register")])])],1)]],2)])])])])},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"is-flex is-vcenter"},[s("span",{staticClass:"material-icons has-grey-text text-darken-4"},[e._v(" how_to_reg ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-pr-1-half is-pl-1"},[s("i",{staticClass:"material-icons"},[e._v("exit_to_app")])])}],o=(s("ac1f"),s("5319"),s("5530")),c=s("2f62"),d=s("59ca"),m=s.n(d),u={name:"navbar",data:function(){return{isActive:!1}},computed:Object(o["a"])({},Object(c["b"])(["user"]),{userID:function(){return this.user.data?this.user.data.userID:"null"}}),methods:{logOut:function(){var e=this;m.a.auth().signOut().then((function(){e.$router.replace({name:"signIn"})}))}}},p=u,f=(s("9dc7"),s("2877")),v=Object(f["a"])(p,n,l,!1,null,"786a3e2b",null),h=v.exports,g={name:"app",components:{Nav:h}},_=g,C=(s("5c0b"),Object(f["a"])(_,a,r,!1,null,null,null)),b=C.exports,k=s("8c4f"),x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index container"},[s("div",{staticClass:"columns is-centered is-mobile"},[e.recipes.length?e._l(e.recipes,(function(t){return s("div",{key:t.id,staticClass:"column is-half is-mb-2"},[s("div",{staticClass:"card is-grey lighten-5"},[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"column is-two-fifths"},[s("div",{staticClass:"card-image is-mt-2-half is-ml-small25"},[s("figure",{staticClass:"image is-square"},[s("img",{attrs:{src:t.imageUrl,alt:t.slug}})])])]),s("div",{staticClass:"column"},[s("div",{staticClass:"card-content"},[s("router-link",{staticClass:"edit-icon button",attrs:{to:{name:"editItems",params:{recipe_slug:t.slug}},tag:"button"}},[s("div",{staticClass:"icon is-small"},[s("i",{staticClass:"material-icons "},[e._v("edit")])])]),s("div",{staticClass:"icon delete-icon"},[s("i",{staticClass:"material-icons",on:{click:function(s){return e.deleteItem(t.id)}}},[e._v("delete")])]),s("h2",{staticClass:"title is-pb-1"},[e._v(e._s(t.title))]),s("div",{staticClass:"breadcrumb has-dot-separator",attrs:{"aria-label":"breadcrumbs"}},[s("ul",{staticClass:"ingredients"},e._l(t.Ingredients,(function(t,i){return s("li",{key:i},[s("span",{staticClass:"has-grey-text text-darken-2"},[e._v(e._s(t))])])})),0)])],1)]),s("div",{staticClass:"column is-full"},[s("div",{staticClass:"card-footer"},[s("div",{staticClass:"is-flex is-vcenter card-footer-item"},[e._m(1,!0),s("div",{staticClass:"timing-box"},[e._v(" prep. "),t.preparing.hour>0?s("span",{staticClass:"has-teal-text"},[e._v(" "+e._s(t.preparing.hour)+"h : ")]):e._e(),s("span",{staticClass:"has-teal-text"},[e._v(" "+e._s(t.preparing.minutes)+"m ")])])]),s("div",{staticClass:"is-flex is-vcenter card-footer-item"},[e._m(2,!0),s("div",{staticClass:"timing-box"},[e._v(" Cook "),t.cook.hour>0?s("span",{staticClass:"has-teal-text"},[e._v(" "+e._s(t.cook.hour)+"h : ")]):e._e(),s("span",{staticClass:"has-teal-text"},[e._v(e._s(t.cook.minutes)+"m")])])]),s("div",{staticClass:"is-flex is-vcenter card-footer-item"},[e._m(3,!0),s("div",{staticClass:"timing-box"},[e._v(" full "),t.ready_in.hour>0?s("span",{staticClass:"has-teal-text"},[e._v(e._s(t.ready_in.hour)+"m")]):e._e(),s("span",{staticClass:"has-teal-text"},[e._v(e._s(t.ready_in.minutes)+"m")])])])]),s("div",{staticClass:"card-footer"},[s("div",{staticClass:"content methods"},[s("ol",{attrs:{type:"1"}},e._l(t.methods,(function(t,i){return s("li",{key:i},[e._v(" "+e._s(t)+" ")])})),0)])])])])])])})):s("div",{staticClass:"column is-four-fifths-mobile is-mt-5"},[s("div",{staticClass:"columns is-mobile"},[e._m(0),s("div",{staticClass:"column is-flex is-vcenter is-mt-2-mobile"},[s("h1",{staticClass:"is-size-2"},[e._v(" You don't have a recipe yet, please add "),s("router-link",{staticClass:"has-text-info animated infinite is-inline-block",class:{pulse:e.hover},attrs:{to:{name:"addItem"},tag:"a"},nativeOn:{mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[e._v(" new recipe ")])],1)])])])],2)])},$=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column is-one-third "},[i("figure",{staticClass:"image is-square cheaf"},[i("img",{attrs:{src:s("f1e5"),alt:"cheaf"}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"material-icons"},[e._v("update")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"material-icons"},[e._v("timelapse")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"material-icons"},[e._v("alarm_on")])])}],w=(s("4160"),s("159b"),{name:"index",data:function(){return{recipes:[],hover:!1}},computed:Object(o["a"])({},Object(c["b"])(["user"])),methods:{deleteItem:function(e){var t=this;m.a.firestore().collection("allRecipes").doc(e).delete().then((function(){t.recipes=t.recipes.filter((function(t){return t.id!=e}))}))}},created:function(){var e=this;m.a.firestore().collection("allRecipes").get().then((function(t){t.forEach((function(t){var s=t.data();e.user.data.userID===s.userID&&(s.id=t.id,e.recipes.push(s))}))}))}}),y=w,I=(s("c682"),Object(f["a"])(y,x,$,!1,null,"140c53de",null)),P=I.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"addItem container"},[s("h2",{staticClass:"has-text-centered has-indigo-text"},[e._v("Add New Recipe")]),s("form",{staticClass:"is-relative",on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"title"}},[e._v("Recipe Title:")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"input is-info is-rounded",attrs:{type:"text",name:"title",placeholder:"Mojito",autocomplete:"off"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"ingredients"}},[e._v("Add an ingredients:")]),s("div",{staticClass:"control has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.item,expression:"item"}],staticClass:"input is-info is-rounded",attrs:{type:"text",name:"ingredients",placeholder:"white rum",autocomplete:"off"},domProps:{value:e.item},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.addIng(t))},input:[function(t){t.target.composing||(e.item=t.target.value)},e.iconReset]}}),s("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",duration:200}},[s("span",{key:e.icon,staticClass:"icon is-small is-right add-ingredient",on:{click:e.addIng}},[s("i",{staticClass:"material-icons has-green-text text-darken-2 animated flash infinite"},[e._v(" "+e._s(e.icon)+" ")])])])],1)]),s("div",{staticClass:"is-block"},[s("transition-group",{staticClass:"columns is-vcentered ingredients-box",attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",duration:850,tag:"div"}},e._l(e.ingredients,(function(t,i){return s("div",{key:i+"_item",staticClass:"column is-3 is-relative is-pl-small25 is-mb-1"},[s("span",{staticClass:"tag is-100"},[e._v(" "+e._s(e._f("shortText")(t,10))+" "),s("button",{staticClass:"delete is-small",on:{click:function(s){return e.removeItem(t)}}})])])})),0)],1),s("b-field",{staticClass:"time",attrs:{label:"Select preparing time"}},[s("div",{staticClass:"is-flex is-timepick "},[s("div",{staticClass:"is-flex is-between is-vcenter"},[s("p",[e._v("hour")]),s("b-slider",{staticClass:"is-90",attrs:{type:"is-success",size:"is-medium","tooltip-type":"is-black",min:0,max:12,ticks:""},model:{value:e.prepTime.hour,callback:function(t){e.$set(e.prepTime,"hour",t)},expression:"prepTime.hour"}})],1),s("div",{staticClass:"is-flex is-between is-vcenter"},[s("p",[e._v("minutes")]),s("b-slider",{staticClass:"is-85",attrs:{type:"is-success",size:"is-medium","tooltip-type":"is-primary",min:0,max:60,ticks:""},model:{value:e.prepTime.minutes,callback:function(t){e.$set(e.prepTime,"minutes",t)},expression:"prepTime.minutes"}})],1)])]),s("b-field",{staticClass:"time",attrs:{label:"Select Cook time"}},[s("div",{staticClass:"is-flex is-timepick"},[s("div",{staticClass:"is-flex is-between is-vcenter"},[s("p",[e._v("hour")]),s("b-slider",{staticClass:"is-90",attrs:{type:"is-success",size:"is-medium","tooltip-type":"is-black",min:0,max:12,ticks:""},model:{value:e.cookTime.hour,callback:function(t){e.$set(e.cookTime,"hour",t)},expression:"cookTime.hour"}})],1),s("div",{staticClass:"is-flex is-between is-vcenter"},[s("p",[e._v("minutes")]),s("b-slider",{staticClass:"is-85",attrs:{type:"is-success",size:"is-medium","tooltip-type":"is-black",min:0,max:60,ticks:""},model:{value:e.cookTime.minutes,callback:function(t){e.$set(e.cookTime,"minutes",t)},expression:"cookTime.minutes"}})],1)])]),s("div",{staticClass:"file has-name is-flex is-vcenter is-between"},[s("label",{staticClass:"file-label"},[s("input",{ref:"imageFile",staticClass:"file-input is-rounded",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:e.imgUpload}}),e._m(0),e.image?s("span",{staticClass:"file-name has-green-text text-darken-3"},[e._v(" "+e._s(e.image.name))]):e._e()])]),e.imageUrl?s("div",{staticClass:"box addImage"},[s("figure",{staticClass:"image is-16by9"},[s("img",{attrs:{src:e.imageUrl}})])]):e._e(),s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.methodItem,expression:"methodItem"}],staticClass:"textarea has-fixed-size",attrs:{placeholder:"add method and press  'Tab'"},domProps:{value:e.methodItem},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.addPrepMethods(t)},input:function(t){t.target.composing||(e.methodItem=t.target.value)}}})])]),s("div",{staticClass:"is-block"},[s("transition-group",{staticClass:"columns is-vcentered ingredients-box",attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",duration:850,tag:"div"}},e._l(e.prepMethods,(function(t,i){return s("div",{key:i+"_item",staticClass:"column is-relative if-full is-pl-small25"},[s("span",{staticClass:"tag is-100"},[s("span",{staticClass:"has-amber-text text-darken-3 is-pr-0-half"},[e._v(e._s(i+1)+".")]),e._v(" "+e._s(e._f("shortText")(t,50))+" "),s("button",{staticClass:"delete is-small",on:{click:function(s){return e.removeMethod(t)}}})])])})),0)],1),s("div",{staticClass:"field submit-form"},[e.feedback?s("p",{staticClass:"has-text-danger"},[e._v(e._s(e.feedback))]):e._e(),e.prepFeedback?s("p",{staticClass:"has-text-danger"},[e._v(e._s(e.prepFeedback))]):e._e(),s("button",{staticClass:"button is-link is-rounded",on:{click:e.onSubmit}},[e._v(" Add Item ")])])],1)])},T=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"file-cta"},[s("span",{staticClass:"file-icon"},[s("i",{staticClass:"fas fa-upload"})]),s("span",{staticClass:"file-label"},[e._v(" Choose an image ")])])}],E=(s("baa5"),s("b0c0"),s("3666")),U=s.n(E),R={name:"addItem",data:function(){return{title:null,cookTime:{hour:0,minutes:0},prepTime:{hour:0,minutes:0},item:null,ingredients:[],methodItem:null,prepMethods:[],feedback:null,prepFeedback:null,icon:"add",slug:null,imageUrl:null,image:null}},computed:Object(o["a"])({},Object(c["b"])(["user"]),{check:function(){return null!==this.item&&this.item.length>=3},fullCookTime:function(){var e={hour:this.prepTime.hour+this.cookTime.hour,minutes:this.prepTime.minutes+this.cookTime.minutes};return e}}),methods:{imgUpload:function(e){var t=this,s=e.target.files,i=s[0].name;if(i.lastIndexOf(".")<=0)return alert("Please add a viled file!");var a=new FileReader;a.addEventListener("load",(function(){t.imageUrl=a.result})),a.readAsDataURL(s[0]),this.image=s[0]},onSubmit:function(){var e=this;if(null!=this.title&&this.ingredients.length>=1&&null!==this.cookTime&&null!==this.prepTime&&this.prepMethods.length>=1){var t,s;this.feedback=null,this.slug=U()(this.title,{replacement:"-",remove:/[$*_+~.()'"!\-:@]/g,lower:!0});var i=this.image.name,a=i.slice(i.lastIndexOf("."));m.a.firestore().collection("allRecipes").add({title:this.title,Ingredients:this.ingredients,slug:this.slug,prepTime:this.prepTime,methods:this.prepMethods,imageUrl:this.imageUrl,preparing:this.prepTime,cook:this.cookTime,ready_in:this.fullCookTime,userID:this.user.data.userID,ext:a}).then((function(t){return s=t.id,m.a.storage().ref("allRecipes/"+s+a).put(e.image)})).then((function(e){return e.ref.getDownloadURL()})).then((function(i){t=i,m.a.firestore().collection("allRecipes").doc(s).update({imageUrl:t}),e.$router.push({name:"Index"})}))}else this.feedback="please fill all forms"},addIng:function(){this.item?(this.ingredients.push(this.item),this.item=null,this.feedback=null,this.icon="check"):this.feedback="You must enter ingredients"},removeItem:function(e){this.ingredients=this.ingredients.filter((function(t){return t!=e}))},addPrepMethods:function(){this.methodItem?(this.prepMethods.push(this.methodItem),this.methodItem=null,this.prepFeedback=null):this.prepFeedback="You must enter methods"},removeMethod:function(e){this.prepMethods=this.prepMethods.filter((function(t){return t!=e}))},iconReset:function(){this.icon="add"}}},L=R,j=(s("443b"),Object(f["a"])(L,O,T,!1,null,null,null)),S=j.exports,q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container signIn"},[s("div",{staticClass:"is-mt-10 is-flex is-center"},[s("div",{staticClass:"is-50"},[s("div",{staticClass:"box is-green lighten-1 is-raunded"},[s("h2",{staticClass:"title has-text-centered is-pt-1"},[e._v("Log In")]),s("form",{on:{submit:function(e){e.preventDefault()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.logIn(t)}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"title"}},[e._v("Enter email:")]),s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"input is-rounded",attrs:{type:"email",placeholder:"name@mail.com",required:""},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._m(0)])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"title"}},[e._v("Enter password:")]),s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"input is-rounded",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e._m(1)])]),e.error?s("p",{staticClass:"has-text-danger is-mb-0-half"},[e._v(" "+e._s(e.error)+" ")]):e._e(),s("div",{staticClass:"field submit-form is-flex is-vcenter"},[s("button",{staticClass:"button is-success is-inverted is-rounded",on:{click:e.logIn}},[e._v(" Sign In ")]),s("p",{staticClass:"is-pl-0-half"},[e._v(" or "),s("router-link",{attrs:{to:{name:"signUp"}}},[s("em",[e._v("Register")])])],1)])])])])])])},A=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"material-icons"},[e._v("alternate_email")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"material-icons"},[e._v("lock")])])}],N={name:"singUp",data:function(){return{form:{email:"",password:""},error:null}},methods:{logIn:function(){var e=this;m.a.auth().signInWithEmailAndPassword(this.form.email,this.form.password).then((function(t){e.$router.push({name:"Index",params:{id:t.user.uid}})})).catch((function(t){e.error=t.message}))}}},M=N,D=Object(f["a"])(M,q,A,!1,null,"d7670c78",null),z=D.exports,F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container signIn"},[s("div",{staticClass:"is-mt-10 is-flex is-center"},[s("div",{staticClass:"is-50"},[s("div",{staticClass:"box is-indigo lighten-3 is-raunded"},[s("h2",{staticClass:"title has-text-centered is-pt-1"},[e._v("Resgister")]),s("form",{on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"title"}},[e._v("Display Name:")]),s("div",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.name.$model,expression:"$v.form.name.$model"}],staticClass:"input is-rounded is-mb-small25",class:{"is-danger":e.$v.form.name.$error,"is-success":e.$v.form.name.required&&e.$v.form.name.minLength},attrs:{type:"text",placeholder:"Johne Smith"},domProps:{value:e.$v.form.name.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.name,"$model",t.target.value)}}}),e._m(0),e.$v.form.name.$error?s("Icon",{attrs:{value:"error"}}):e._e(),e.$v.form.name.required&&e.$v.form.name.minLength?s("Icon",{attrs:{value:"check"}}):e._e(),e.$v.form.name.$error?s("div",{staticClass:"form-error"},[e.$v.form.name.required?e._e():s("span",{staticClass:"has-text-danger"},[e._v("Name is required")]),e.$v.form.name.minLength?e._e():s("span",{staticClass:"has-text-danger"},[e._v("Name must have at least "+e._s(e.$v.form.name.$params.minLength.min)+" letters.")])]):e._e()],1)]),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"title"}},[e._v("Enter email:")]),s("div",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.email.$model,expression:"$v.form.email.$model"}],staticClass:"input is-rounded is-mb-small25",class:{"is-danger":e.$v.form.email.$error,"is-success":e.$v.form.email.required&&e.$v.form.email.email},attrs:{type:"email",placeholder:"name@mail.com"},domProps:{value:e.$v.form.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.email,"$model",t.target.value)}}}),e._m(1),e.$v.form.email.$error?s("Icon",{attrs:{value:"error"}}):e._e(),e.$v.form.email.required&&e.$v.form.email.email?s("Icon",{attrs:{value:"check"}}):e._e(),e.$v.form.email.$error?s("div",{staticClass:"form-error"},[e.$v.form.email.required?e._e():s("span",{staticClass:"has-text-danger"},[e._v("Field is required")]),e.$v.form.email.email?e._e():s("span",{staticClass:"has-text-danger"},[e._v("The email address is badly formatted.")])]):e._e()],1)]),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"title"}},[e._v("Enter password:")]),s("div",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.password.$model,expression:"$v.form.password.$model",modifiers:{trim:!0}}],staticClass:"input is-rounded",class:{"is-danger":e.$v.form.password.$error,"is-success":e.$v.form.password.required&&e.$v.form.password.minLength&&e.$v.form.password.strongPassword},attrs:{type:"password",placeholder:"Password"},domProps:{value:e.$v.form.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._m(2),e.$v.form.password.$error?s("Icon",{attrs:{value:"error"}}):e._e(),e.$v.form.password.required&&e.$v.form.password.minLength&&e.$v.form.password.strongPassword?s("Icon",{attrs:{value:"check"}}):e._e(),e.$v.form.password.$error?s("div",{staticClass:"field-error"},[e.$v.form.password.required?e._e():s("span",{staticClass:"has-text-danger"},[e._v("Field is required")]),e.$v.form.password.minLength?e._e():s("span",{staticClass:"has-text-danger"},[e._v("Password must have at least "+e._s(e.$v.form.password.$params.minLength.min)+" letters.")]),!e.$v.form.password.strongPassword&&e.$v.form.password.minLength&&e.$v.form.password.required?s("span",{staticClass:"has-text-danger"},[e._v("Password must have special character")]):e._e()]):e._e()],1)]),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"title"}},[e._v("Repeat password:")]),s("div",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.form.repeatPassword.$model,expression:"$v.form.repeatPassword.$model"}],staticClass:"input is-rounded",class:{"is-danger":e.$v.form.repeatPassword.$error,"is-success":e.$v.form.repeatPassword.required&&e.$v.form.repeatPassword.sameAsPassword},attrs:{type:"password",placeholder:"Re-enter Password"},domProps:{value:e.$v.form.repeatPassword.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.repeatPassword,"$model",t.target.value)}}}),e._m(3),e.$v.form.repeatPassword.$error?s("Icon",{attrs:{value:"error"}}):e._e(),e.$v.form.repeatPassword.required&&e.$v.form.repeatPassword.sameAsPassword?s("Icon",{attrs:{value:"check"}}):e._e(),e.$v.form.repeatPassword.$error?s("div",{staticClass:"field-error"},[e.$v.form.repeatPassword.sameAsPassword?e._e():s("span",{staticClass:"has-text-danger"},[e._v(" Passwords must be identical. ")])]):e._e()],1)]),e.error?s("p",{staticClass:"has-text-danger is-mb-0-half"},[e._v(" "+e._s(e.error)+" "),"auth/email-already-in-use"===e.code?s("router-link",{attrs:{to:{name:"signIn"}}},[e._v(" Log in")]):e._e()],1):e._e(),s("div",{staticClass:"field submit-form is-mt-2"},[s("button",{staticClass:"button is-success is-inverted is-rounded",on:{click:e.creatUser,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.creatUser(t)}}},[e._v(" submit ")])])])])])])])},G=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"material-icons"},[e._v("person")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"material-icons"},[e._v("alternate_email")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"material-icons"},[e._v("lock")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"material-icons"},[e._v("lock")])])}],Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-right",class:[e.iconVal?"has-text-danger":"has-text-success"]},[s("i",{staticClass:"material-icons"},[e._v(e._s(e.value))])])},B=[],J={props:["value"],computed:{iconVal:function(){return"error"==this.value}}},V=J,W=Object(f["a"])(V,Y,B,!1,null,null,null),H=W.exports,K=s("b5ae"),Q={name:"singUp",data:function(){return{form:{name:"",email:"",password:"",repeatPassword:null},error:null,code:null}},components:{Icon:H},validations:{form:{name:{required:K["required"],minLength:Object(K["minLength"])(2)},email:{required:K["required"],email:K["email"]},password:{required:K["required"],minLength:Object(K["minLength"])(6),strongPassword:function(e){return/[a-z]/.test(e)&&/[0-9]/.test(e)&&/\W|_/.test(e)}},repeatPassword:{required:K["required"],sameAsPassword:Object(K["sameAs"])("password")}}},methods:{creatUser:function(){var e=this;this.$v.$anyError?this.$v.form.$touch():m.a.auth().createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(t){t.user.updateProfile({displayName:e.form.name}),e.$store.dispatch("fetchUser",t.user.displayName),e.$router.replace({name:"Index"})})).catch((function(t){e.error=t.message,e.code=t.code}))}}},X=Q,Z=Object(f["a"])(X,F,G,!1,null,"8ea9be90",null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.recipe?s("div",{staticClass:"addItem container"},[s("h2",{staticClass:"is-capitalized"},[e._v("Edit "+e._s(e.recipe.title)+" Recipe")]),s("form",{staticClass:"is-relative",on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"title"}},[e._v("Recipe Title:")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.recipe.title,expression:"recipe.title"}],staticClass:"input is-info is-rounded",attrs:{type:"text",name:"title",placeholder:"Mojito",autocomplete:"off"},domProps:{value:e.recipe.title},on:{input:function(t){t.target.composing||e.$set(e.recipe,"title",t.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-grey-text text-darken-2",attrs:{for:"ingredients"}},[e._v("Add an ingredients:")]),s("div",{staticClass:"control has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.item,expression:"item"}],staticClass:"input is-info is-rounded",attrs:{type:"text",name:"ingredients",placeholder:"white rum",autocomplete:"off"},domProps:{value:e.item},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.updateItems(t))},input:[function(t){t.target.composing||(e.item=t.target.value)},e.iconReset]}}),s("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",duration:200}},[s("span",{key:e.icon,staticClass:"icon is-small is-right add-ingredient",on:{click:e.updateItems}},[s("i",{staticClass:"material-icons has-green-text text-darken-2 animated flash infinite"},[e._v(" "+e._s(e.icon)+" ")])])])],1)]),s("div",{staticClass:"is-block"},[s("transition-group",{staticClass:"columns is-vcentered ingredients-box",attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",duration:850,tag:"div"}},e._l(e.recipe.Ingredients,(function(t,i){return s("div",{key:i+"_item",staticClass:"column is-3 is-relative is-pl-small25 is-mb-1"},[s("span",{staticClass:"tag is-100"},[e._v(" "+e._s(e._f("shortText")(t,10))+" "),s("button",{staticClass:"delete is-small",on:{click:function(s){return e.removeItem(t)}}})])])})),0)],1),s("b-field",{staticClass:"time",attrs:{label:"Select preparing time"}},[s("div",{staticClass:"is-flex is-timepick "},[s("div",{staticClass:"is-flex is-between is-vcenter"},[s("p",[e._v("hour")]),s("b-slider",{staticClass:"is-90",attrs:{type:"is-success",size:"is-medium","tooltip-type":"is-black",min:0,max:12,ticks:""},model:{value:e.recipe.preparing.hour,callback:function(t){e.$set(e.recipe.preparing,"hour",t)},expression:"recipe.preparing.hour"}})],1),s("div",{staticClass:"is-flex is-between is-vcenter"},[s("p",[e._v("minutes")]),s("b-slider",{staticClass:"is-85",attrs:{type:"is-success",size:"is-medium","tooltip-type":"is-primary",min:0,max:60,ticks:""},model:{value:e.recipe.preparing.minutes,callback:function(t){e.$set(e.recipe.preparing,"minutes",t)},expression:"recipe.preparing.minutes"}})],1)])]),s("b-field",{staticClass:"time",attrs:{label:"Select Cook time"}},[s("div",{staticClass:"is-flex is-timepick"},[s("div",{staticClass:"is-flex is-between is-vcenter"},[s("p",[e._v("hour")]),s("b-slider",{staticClass:"is-90",attrs:{type:"is-success",size:"is-medium","tooltip-type":"is-black",min:0,max:12,ticks:""},model:{value:e.recipe.cook.hour,callback:function(t){e.$set(e.recipe.cook,"hour",t)},expression:"recipe.cook.hour"}})],1),s("div",{staticClass:"is-flex is-between is-vcenter"},[s("p",[e._v("minutes")]),s("b-slider",{staticClass:"is-85",attrs:{type:"is-success",size:"is-medium","tooltip-type":"is-black",min:0,max:60,ticks:""},model:{value:e.recipe.cook.minutes,callback:function(t){e.$set(e.recipe.cook,"minutes",t)},expression:"recipe.cook.minutes"}})],1)])]),s("div",{staticClass:"file has-name is-flex is-vcenter is-between"},[s("label",{staticClass:"file-label"},[s("input",{ref:"imageFile",staticClass:"file-input is-rounded",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:e.imgUpload}}),e._m(0),e.image?s("span",{staticClass:"file-name has-green-text text-darken-3"},[e._v(" "+e._s(e.image.name))]):e._e()])]),s("div",{staticClass:"box addImage"},[e.image?s("figure",{staticClass:"image is-16by9"},[s("img",{attrs:{src:e.imageUrl}})]):s("figure",{staticClass:"image is-16by9"},[s("img",{attrs:{src:e.recipe.imageUrl}})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.methodItem,expression:"methodItem"}],staticClass:"textarea has-fixed-size",attrs:{placeholder:"add method and press  'Tab'"},domProps:{value:e.methodItem},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.updatePrepMethods(t)},input:function(t){t.target.composing||(e.methodItem=t.target.value)}}})])]),s("div",{staticClass:"is-block"},[s("transition-group",{staticClass:"columns is-vcentered ingredients-box",attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",duration:850,tag:"div"}},e._l(e.recipe.methods,(function(t,i){return s("div",{key:i+"_item",staticClass:"column is-relative if-full is-pl-small25"},[s("span",{staticClass:"tag is-100"},[s("span",{staticClass:"has-amber-text text-darken-3 is-pr-0-half"},[e._v(e._s(i+1)+".")]),e._v(" "+e._s(e._f("shortText")(t,50))+" "),s("button",{staticClass:"delete is-small",on:{click:function(s){return e.removeMethod(t)}}})])])})),0)],1),s("div",{staticClass:"field submit-form"},[e.feedback?s("p",{staticClass:"has-text-danger"},[e._v(e._s(e.feedback))]):e._e(),e.prepFeedback?s("p",{staticClass:"has-text-danger"},[e._v(e._s(e.prepFeedback))]):e._e(),s("button",{staticClass:"button is-link is-rounded",on:{click:e.onSubmit}},[e._v(" Update Item ")])])],1)]):e._e()},se=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"file-cta"},[s("span",{staticClass:"file-icon"},[s("i",{staticClass:"fas fa-upload"})]),s("span",{staticClass:"file-label"},[e._v(" Choose an image ")])])}],ie={name:"editItems",data:function(){return{recipe:null,item:null,methodItem:null,feedback:null,prepFeedback:null,icon:"add",imageUrl:null,image:null}},created:function(){var e=this,t=m.a.firestore().collection("allRecipes").where("slug","==",this.$route.params.recipe_slug);t.get().then((function(t){t.forEach((function(t){e.recipe=t.data(),e.recipe.id=t.id}))}))},computed:{fullCookTime:function(){var e={hour:this.recipe.preparing.hour+this.recipe.cook.hour,minutes:this.recipe.preparing.minutes+this.recipe.cook.minutes};return e}},methods:{updateItems:function(){this.item?(this.recipe.Ingredients.push(this.item),this.item=null,this.feedback=null,this.icon="check"):this.feedback="You must enter ingredients"},updatePrepMethods:function(){this.methodItem?(this.recipe.methods.push(this.methodItem),this.methodItem=null,this.prepFeedback=null):this.prepFeedback="You must enter methods"},removeItem:function(e){this.recipe.Ingredients=this.recipe.Ingredients.filter((function(t){return t!=e}))},removeMethod:function(e){this.recipe.methods=this.recipe.methods.filter((function(t){return t!=e}))},imgUpload:function(e){var t=this,s=e.target.files,i=s[0].name;if(i.lastIndexOf(".")<=0)return alert("Please add a viled file!");var a=new FileReader;a.addEventListener("load",(function(){t.imageUrl=a.result})),a.readAsDataURL(s[0]),this.image=s[0]},iconReset:function(){this.icon="add"},onSubmit:function(){var e=this;if(null!=this.recipe.title&&this.recipe.Ingredients.length>=1&&null!==this.recipe.cook&&null!==this.recipe.preparing&&this.recipe.methods.length>=1&&null!==this.image){this.feedback=null,this.recipe.slug=U()(this.recipe.title,{replacement:"-",remove:/[$*_+~.()'"!\-:@]/g,lower:!0});var t=this.image.name.slice(this.image.name.lastIndexOf("."));m.a.storage().ref("allRecipes/"+this.recipe.id+this.recipe.ext).delete().then((function(){return m.a.storage().ref("allRecipes/"+e.recipe.id+t).put(e.image)})).then((function(e){return e.ref.getDownloadURL()})).then((function(t){var s=t;m.a.firestore().collection("allRecipes").doc(e.recipe.id).update({imageUrl:s}),e.$router.push({name:"Index"})}))}else null!=this.recipe.title&&this.recipe.Ingredients.length>=1&&null!==this.recipe.cook&&null!==this.recipe.preparing&&this.recipe.methods.length>=1&&null===this.image?m.a.firestore().collection("allRecipes").doc(this.recipe.id).update({title:this.recipe.title,Ingredients:this.recipe.Ingredients,slug:this.recipe.slug,methods:this.recipe.methods,preparing:this.recipe.preparing,cook:this.recipe.cook,ready_in:this.fullCookTime}).then((function(){e.$router.push({name:"Index"})})):this.feedback="please fill all forms"}}},ae=ie,re=Object(f["a"])(ae,te,se,!1,null,"148b6afd",null),ne=re.exports;i["a"].use(k["a"]);var le=[{path:"/",name:"Index",component:P,beforeEnter:function(e,t,s){m.a.auth().onAuthStateChanged((function(e){e?s():s("/Log-in")}))}},{path:"/addItem",name:"addItem",component:S,beforeEnter:function(e,t,s){m.a.auth().onAuthStateChanged((function(e){e?s():s("/Log-in")}))}},{path:"/Log-in",name:"signIn",component:z},{path:"/Register",name:"signUp",component:ee},{path:"/edit-recipes/:recipe_slug",name:"editItems",component:ne},{path:"*",redirect:"/"}],oe=new k["a"]({mode:"history",base:"/Recipes_app/",routes:le}),ce=oe;i["a"].use(c["a"]);var de=new c["a"].Store({state:{user:{loggedIn:!1,data:null}},getters:{user:function(e){return e.user}},mutations:{SET_LOGGED_IN:function(e,t){e.user.loggedIn=t},SET_USER:function(e,t){e.user.data=t}},actions:{fetchUser:function(e,t){var s=e.commit;s("SET_LOGGED_IN",null!==t),s("SET_USER",t?{displayName:t.displayName,email:t.email,userID:t.uid}:null)}}}),me=(s("ea7b"),s("e71f"),s("588e"),s("1dce")),ue=s.n(me),pe=s("289d");s("5abe"),s("1ae6");i["a"].use(ue.a),i["a"].use(pe["a"]),s("9ddc"),i["a"].filter("shortText",(function(e,t){return e&&"string"===typeof e?e.length>t?(e=e.slice(0,t),e+"..."):e:""})),i["a"].config.productionTip=!1;var fe={apiKey:"AIzaSyAmHCX3B-jqugkVj2TzheUM33gjcIDizzQ",authDomain:"add-remove-app.firebaseapp.com",databaseURL:"https://add-remove-app.firebaseio.com",projectId:"add-remove-app",storageBucket:"add-remove-app.appspot.com",messagingSenderId:"830644066586",appId:"1:830644066586:web:fe10f4868811ed4a7574a3",measurementId:"G-M19HB061E5"};m.a.initializeApp(fe),m.a.auth().onAuthStateChanged((function(e){de.dispatch("fetchUser",e)})),new i["a"]({router:ce,store:de,render:function(e){return e(b)}}).$mount("#app")},"5c0b":function(e,t,s){"use strict";var i=s("9c0c"),a=s.n(i);a.a},6653:function(e,t,s){},"9c0c":function(e,t,s){},"9dc7":function(e,t,s){"use strict";var i=s("6653"),a=s.n(i);a.a},aeb9:function(e,t,s){},c682:function(e,t,s){"use strict";var i=s("aeb9"),a=s.n(i);a.a},f1e5:function(e,t,s){e.exports=s.p+"img/cheaf.76fb6dd0.png"},f8cf:function(e,t,s){}});
//# sourceMappingURL=app.5ec3074c.js.map